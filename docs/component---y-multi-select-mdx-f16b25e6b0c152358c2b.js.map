{"version":3,"sources":["webpack:///../src/YBasic/YSelect/subcomponents/YSelectMenu.js","webpack:///../src/YBasic/YSelect/YMultiSelect.js","webpack:///../src/YBasic/YSelect/UncontrolledYMultiSelect.js","webpack:///../src/YBasic/YSelect/YMultiSelect.js?0127","webpack:///../YMultiSelect.mdx","webpack:///../src/YBasic/YSelect/subcomponents/YSelectSVGs.js","webpack:///../src/YBasic/YSelect/subcomponents/YSelectDisplay.js","webpack:///../src/YBasic/YSelect/subcomponents/YSelectIndicator.js"],"names":["genSubcomponent","getGenericThemableSubcomponentBuilder","globalTheme","YSelectMenuOption","forwardRef","extraClassNames","Menu","undefined","MenuList","MenuEmpty","YSelectMenuComponent","yList","yEmpty","menuOpen","menuOptions","options","rest","menuNode","useRef","setPosition","useCallback","e","top","left","width","height","refAndPosition","node","useEffect","document","ref","YSelectMenu","YMultiSelectComponent","yWrapper","yDisplay","yIndicators","yMenu","yOption","placeholder","clearable","searchable","noIndicators","selected","onChange","forwardedRef","Wrapper","useMemo","Stage","useState","setMenuOpen","searchString","setSearchString","kbIndex","setKbIndex","wrapperRef","inputRef","closeMenu","useClickOutsideHandler","filteredOptions","label","scrollBack","onArrow","eKey","setTimeout","lastIndex","nextIndex","option","keyHandlers","ArrowDown","ArrowUp","Enter","selectedValue","Escape","toggleMenu","clearSelection","value","itemSelected","Array","selection","className","i","data-value","onClick","v","key","onKeyDown","YMultiSelect","UncontrolledYMultiSelectComponent","props","setSelected","useImperativeHandle","UncontrolledYMultiSelect","React","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","__position","__code","__scope","Playground","UncontrolledYSelect","SourceDisplay","source","fill","map","_","alert","isMDXComponent","clearablePath","dropdownPath","MultiValueButtonStage","MultiValueButton","MultiValueLabel","MultiValueRemove","MultiValueRemoveSVG","Tag","propMutator","viewBox","focusable","children","d","DisplayContainer","DisplayPlaceholder","DisplaySingleValue","DisplayInputWrapper","DisplayInputStage","DisplayInput","YSelectDisplayComponent","yPlaceholder","ySingleValue","yInputWrapper","yInputStage","yInput","yChild","tabindex","isMulti","o","Object","autoCapitalize","autoComplete","autoCorrect","spellCheck","tabIndex","type","aria-autocomplete","onFocus","style","opacity","YSelectDisplay","IndicatorContainer","IndicatorSeparator","IndicatorClearable","IndicatorClearableSVG","IndicatorDropdown","IndicatorDropdownSVG","YSelectIndicator","yClearable","yClearableSVG","ySeparator","yDropdown","yDropdownSVG","aria-label"],"mappings":"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","file":"component---y-multi-select-mdx-f16b25e6b0c152358c2b.js","sourcesContent":["import React, {useRef, useCallback, useEffect} from 'react';\nimport { getGenericThemableSubcomponentBuilder } from '../../../util.js';\nimport '../YSelectComponents.css';\nimport '../../../Y.css';\n\nconst genSubcomponent = getGenericThemableSubcomponentBuilder('y select menu', globalTheme => ((globalTheme.YBasic || {}).YSelect || {}));\n\nexport const YSelectMenuOption = genSubcomponent('option', {forwardRef: true, extraClassNames: ['padding']});\n\nconst Menu = genSubcomponent(undefined, {forwardRef: true});\nconst MenuList = genSubcomponent('list', {extraClassNames: ['padding']});\nconst MenuEmpty = genSubcomponent('empty', {extraClassNames: ['padding']});\n\nconst YSelectMenuComponent = ({\n    yList={},\n    yEmpty={},\n\n    menuOpen,\n    menuOptions,\n    options,\n    ...rest\n}) => {\n    const menuNode = useRef();\n\n    const setPosition = useCallback((e) => {\n        if(menuNode.current) {\n            if(!(e && e.target && e.target.parentNode && e.target.parentNode === menuNode.current)) { // skip scroll events inside menu\n                const { top, left, width, height } = menuNode.current.parentNode.getBoundingClientRect();\n                menuNode.current.style.top = (top + height) + 'px';\n                menuNode.current.style.left = (left) + 'px';\n                menuNode.current.style.width = width + 'px';\n            }\n        }\n    }, []);\n\n    const refAndPosition = useCallback(node => {\n        menuNode.current = node;\n        setPosition();\n    }, [setPosition])\n\n    useEffect(() => {\n        document.addEventListener('scroll', setPosition, true);\n        return () => {\n            document.removeEventListener('scroll', setPosition, true);\n        }\n    });\n\n    return (menuOpen && <Menu ref={refAndPosition} {...rest}>\n        <MenuList {...yList}>\n            {\n                menuOptions.length\n                    ? menuOptions\n                    : <MenuEmpty {...yEmpty}>{options.length ? 'No options match' : 'No options'}</MenuEmpty>\n            }\n        </MenuList>\n    </Menu>);\n}\n\nYSelectMenuComponent.displayName = 'YSelectMenuComponent';\nexport const YSelectMenu = YSelectMenuComponent;\n\nexport default YSelectMenu;","import React, { useState, useRef, useMemo, useCallback } from 'react';\nimport {getGenericThemableSubcomponentBuilder, useClickOutsideHandler} from '../../util.js';\nimport {YSelectDisplay} from './subcomponents/YSelectDisplay.js';\nimport {YSelectIndicator} from './subcomponents/YSelectIndicator.js';\nimport {YSelectMenu, YSelectMenuOption} from './subcomponents/YSelectMenu.js';\nimport './YSelectComponents.css';\nimport '../../Y.css';\n\nconst genSubcomponent = getGenericThemableSubcomponentBuilder('y select', globalTheme => ((globalTheme.YBasic || {}).YSelect || {}));\n\n/**\n * TODO LIST:\n * close menu on input ref blur\n */\n\nconst YMultiSelectComponent = ({\n    yWrapper={},\n    yDisplay={},\n    yIndicators={},\n    yMenu: {yOption, ...yMenu}={},\n    \n    options = [],\n    placeholder = 'Select...',\n    clearable = true,\n    searchable = true,\n    noIndicators = false,\n    selected = [],\n    onChange,\n    forwardedRef,\n    ...rest\n}) => {\n\n    const Wrapper = useMemo(() => genSubcomponent('', {forwardRef: true}), []);\n    const Stage = useMemo(() => genSubcomponent('stage'), []);\n\n    const [menuOpen, setMenuOpen] = useState(false);\n    const [searchString, setSearchString] = useState('');\n    const [kbIndex, setKbIndex] = useState(null);\n\n    const wrapperRef = useRef();\n    const inputRef = useRef();\n\n    const closeMenu = () => {\n        setMenuOpen(false); setSearchString(''); setKbIndex(null);\n    }\n\n    useClickOutsideHandler(wrapperRef, useCallback(() => {\n        if(menuOpen) {\n            closeMenu();\n        }\n    }, [menuOpen]));\n\n    const filteredOptions = useMemo(\n        () => options.filter(({label}) => label.toLowerCase().includes(searchString.toLowerCase())),\n        [searchString, options]\n    );\n\n    const scrollBack = useCallback(\n        node => {\n            if(node !== null) {\n                if(node.scrollIntoViewIfNeeded) {\n                    node.scrollIntoViewIfNeeded();\n                } else {\n                    node.parentNode.scrollTop = node.offsetTop;\n                }\n            }\n        },\n        []\n    );\n\n    const onArrow = eKey => {\n        setTimeout(\n            () => setKbIndex(\n                lastIndex => {\n                    let nextIndex = 0;\n                    if(lastIndex !== null){\n                        if(eKey === 'ArrowDown') {\n                            nextIndex = lastIndex + 1;\n                        }\n                        if(eKey === 'ArrowUp') {\n                            nextIndex = lastIndex - 1;\n                        }\n                    } else if(selected.length > 0){\n                        nextIndex = filteredOptions.findIndex(option => option.value === selected[selected.length - 1])\n                    }\n                    if(nextIndex < 0) {\n                        nextIndex = filteredOptions.length - 1;\n                    }\n                    if(nextIndex >= filteredOptions.length) {\n                        nextIndex = 0;\n                    }\n                    return nextIndex;\n                }\n            ),\n            0\n        );\n    }\n\n    const keyHandlers = {\n        ArrowDown: onArrow,\n        ArrowUp: onArrow,\n        Enter: () => {\n            if(kbIndex !== null && kbIndex >= 0 && kbIndex < filteredOptions.length) {\n                const selectedValue = filteredOptions[kbIndex].value;\n                closeMenu();\n                if(selectedValue !== selected) {\n                    onChange([...selected, selectedValue]);\n                }\n                inputRef.current && inputRef.current.blur();\n            } else {\n                setKbIndex(0);\n            }\n        },\n        Escape: () => {\n            closeMenu();\n        }\n    }\n    const onInputKeyDown = e => {\n        const eKey = e.key;\n        if(keyHandlers[eKey]) {\n            keyHandlers[eKey](eKey);\n            e.preventDefault();\n        }\n    }\n\n    const toggleMenu = () => {\n        if(menuOpen) {\n            closeMenu();\n        } else {\n            setMenuOpen(true);\n            inputRef.current && inputRef.current.focus();\n        }\n    }\n\n    const clearSelection = useCallback(() => {\n        const wasEmpty = selected.length === 0;\n        if(!wasEmpty) {\n            onChange([]);\n        }\n    }, [selected, onChange]);\n\n    const onSearchStringChange = e => setSearchString(e.target.value);\n\n    const menuOptions = useMemo(\n        () => filteredOptions\n            .map(\n                ({value, label}, i) => {\n                    if(i === 0) {\n                        debugger;\n                    }\n                    const itemSelected = Array.isArray(selected) ? (selected.find(selection => selection === value) !== undefined) : value === selected;\n                    return (<YSelectMenuOption\n                        {...yOption}\n                        className={(itemSelected ? 'selected' : '') + (i === kbIndex ? ' highlighted' : '')}\n                        data-value={value} // I'm here for dev tool visibility\n                        onClick={() => {\n                            closeMenu();\n                            if(!selected.includes(value)) {\n                                onChange([...selected, value]);\n                            } else {\n                                onChange(selected.filter(v => v !== value));\n                            }\n                        }}\n                        key={`${value}-${i}`}\n                        {...(\n                            (selected, highlighted) => {\n                                if((selected && kbIndex === null) || highlighted) {\n                                    return {ref: scrollBack};\n                                } else {\n                                    return {}\n                                }\n                            })(itemSelected, i === kbIndex)\n                        }\n                    >\n                        {label}\n                    </YSelectMenuOption>);\n                }\n            ),\n        [filteredOptions, kbIndex, onChange, selected, yOption, scrollBack]\n    );\n\n    return (\n        <Wrapper {...yWrapper} ref={wrapperRef}>\n            <Stage {...rest}>\n                <YSelectDisplay\n                    {...yDisplay}\n                    menuOpen={menuOpen}\n                    toggleMenu={toggleMenu}\n                    selected={selected}\n                    options={options}\n                    placeholder={placeholder}\n                    searchable={searchable}\n                    onChange={onSearchStringChange}\n                    onKeyDown={onInputKeyDown}\n                    searchString={searchString}\n                    ref={inputRef}\n                />\n                {!noIndicators && <YSelectIndicator\n                    {...yIndicators}\n                    selected={selected}\n                    clearable={clearable}\n                    clearSelection={clearSelection}\n                    toggleMenu={toggleMenu}\n                />}\n            </Stage>\n            <YSelectMenu\n                {...yMenu}\n                menuOpen={menuOpen}\n                menuOptions={menuOptions}\n                options={options}\n            />\n        </Wrapper>);\n\n}\nYMultiSelectComponent.displayName = 'YSelect';\nexport const YMultiSelect = YMultiSelectComponent;\n\nexport default YMultiSelect;","import React, {useState, useImperativeHandle} from 'react';\nimport {YMultiSelect} from './YMultiSelect.js';\nimport '../../Y.css';\n\n/**\n * This is only used to demo handling the state above the YSelect in YSelect.mdx\n */\nconst UncontrolledYMultiSelectComponent = ({onChange, ...props}, ref) => {\n    const [selected, setSelected] = useState([]);\n    useImperativeHandle(ref, () => ({\n        value: selected\n    }), [selected]);\n\n    const onChangeHook = v => {\n        setSelected(v);\n        onChange(v);\n    };\n\n    return (<YMultiSelect\n        selected={selected}\n        onChange={onChangeHook}\n        {...props}\n    />);\n}\nUncontrolledYMultiSelectComponent.displayName = 'UncontrolledYSelect';\nexport const UncontrolledYMultiSelect =  React.forwardRef(UncontrolledYMultiSelectComponent);\n\nexport default UncontrolledYMultiSelect;","export default \"import React, { useState, useRef, useMemo, useCallback } from 'react';\\nimport {getGenericThemableSubcomponentBuilder, useClickOutsideHandler} from '../../util.js';\\nimport {YSelectDisplay} from './subcomponents/YSelectDisplay.js';\\nimport {YSelectIndicator} from './subcomponents/YSelectIndicator.js';\\nimport {YSelectMenu, YSelectMenuOption} from './subcomponents/YSelectMenu.js';\\nimport './YSelectComponents.css';\\nimport '../../Y.css';\\n\\nconst genSubcomponent = getGenericThemableSubcomponentBuilder('y select', globalTheme => ((globalTheme.YBasic || {}).YSelect || {}));\\n\\n/**\\n * TODO LIST:\\n * close menu on input ref blur\\n */\\n\\nconst YMultiSelectComponent = ({\\n    yWrapper={},\\n    yDisplay={},\\n    yIndicators={},\\n    yMenu: {yOption, ...yMenu}={},\\n    \\n    options = [],\\n    placeholder = 'Select...',\\n    clearable = true,\\n    searchable = true,\\n    noIndicators = false,\\n    selected = [],\\n    onChange,\\n    forwardedRef,\\n    ...rest\\n}) => {\\n\\n    const Wrapper = useMemo(() => genSubcomponent('', {forwardRef: true}), []);\\n    const Stage = useMemo(() => genSubcomponent('stage'), []);\\n\\n    const [menuOpen, setMenuOpen] = useState(false);\\n    const [searchString, setSearchString] = useState('');\\n    const [kbIndex, setKbIndex] = useState(null);\\n\\n    const wrapperRef = useRef();\\n    const inputRef = useRef();\\n\\n    const closeMenu = () => {\\n        setMenuOpen(false); setSearchString(''); setKbIndex(null);\\n    }\\n\\n    useClickOutsideHandler(wrapperRef, useCallback(() => {\\n        if(menuOpen) {\\n            closeMenu();\\n        }\\n    }, [menuOpen]));\\n\\n    const filteredOptions = useMemo(\\n        () => options.filter(({label}) => label.toLowerCase().includes(searchString.toLowerCase())),\\n        [searchString, options]\\n    );\\n\\n    const scrollBack = useCallback(\\n        node => {\\n            if(node !== null) {\\n                if(node.scrollIntoViewIfNeeded) {\\n                    node.scrollIntoViewIfNeeded();\\n                } else {\\n                    node.parentNode.scrollTop = node.offsetTop;\\n                }\\n            }\\n        },\\n        []\\n    );\\n\\n    const onArrow = eKey => {\\n        setTimeout(\\n            () => setKbIndex(\\n                lastIndex => {\\n                    let nextIndex = 0;\\n                    if(lastIndex !== null){\\n                        if(eKey === 'ArrowDown') {\\n                            nextIndex = lastIndex + 1;\\n                        }\\n                        if(eKey === 'ArrowUp') {\\n                            nextIndex = lastIndex - 1;\\n                        }\\n                    } else if(selected.length > 0){\\n                        nextIndex = filteredOptions.findIndex(option => option.value === selected[selected.length - 1])\\n                    }\\n                    if(nextIndex < 0) {\\n                        nextIndex = filteredOptions.length - 1;\\n                    }\\n                    if(nextIndex >= filteredOptions.length) {\\n                        nextIndex = 0;\\n                    }\\n                    return nextIndex;\\n                }\\n            ),\\n            0\\n        );\\n    }\\n\\n    const keyHandlers = {\\n        ArrowDown: onArrow,\\n        ArrowUp: onArrow,\\n        Enter: () => {\\n            if(kbIndex !== null && kbIndex >= 0 && kbIndex < filteredOptions.length) {\\n                const selectedValue = filteredOptions[kbIndex].value;\\n                closeMenu();\\n                if(selectedValue !== selected) {\\n                    onChange([...selected, selectedValue]);\\n                }\\n                inputRef.current && inputRef.current.blur();\\n            } else {\\n                setKbIndex(0);\\n            }\\n        },\\n        Escape: () => {\\n            closeMenu();\\n        }\\n    }\\n    const onInputKeyDown = e => {\\n        const eKey = e.key;\\n        if(keyHandlers[eKey]) {\\n            keyHandlers[eKey](eKey);\\n            e.preventDefault();\\n        }\\n    }\\n\\n    const toggleMenu = () => {\\n        if(menuOpen) {\\n            closeMenu();\\n        } else {\\n            setMenuOpen(true);\\n            inputRef.current && inputRef.current.focus();\\n        }\\n    }\\n\\n    const clearSelection = useCallback(() => {\\n        const wasEmpty = selected.length === 0;\\n        if(!wasEmpty) {\\n            onChange([]);\\n        }\\n    }, [selected, onChange]);\\n\\n    const onSearchStringChange = e => setSearchString(e.target.value);\\n\\n    const menuOptions = useMemo(\\n        () => filteredOptions\\n            .map(\\n                ({value, label}, i) => {\\n                    if(i === 0) {\\n                        debugger;\\n                    }\\n                    const itemSelected = Array.isArray(selected) ? (selected.find(selection => selection === value) !== undefined) : value === selected;\\n                    return (<YSelectMenuOption\\n                        {...yOption}\\n                        className={(itemSelected ? 'selected' : '') + (i === kbIndex ? ' highlighted' : '')}\\n                        data-value={value} // I'm here for dev tool visibility\\n                        onClick={() => {\\n                            closeMenu();\\n                            if(!selected.includes(value)) {\\n                                onChange([...selected, value]);\\n                            } else {\\n                                onChange(selected.filter(v => v !== value));\\n                            }\\n                        }}\\n                        key={`${value}-${i}`}\\n                        {...(\\n                            (selected, highlighted) => {\\n                                if((selected && kbIndex === null) || highlighted) {\\n                                    return {ref: scrollBack};\\n                                } else {\\n                                    return {}\\n                                }\\n                            })(itemSelected, i === kbIndex)\\n                        }\\n                    >\\n                        {label}\\n                    </YSelectMenuOption>);\\n                }\\n            ),\\n        [filteredOptions, kbIndex, onChange, selected, yOption, scrollBack]\\n    );\\n\\n    return (\\n        <Wrapper {...yWrapper} ref={wrapperRef}>\\n            <Stage {...rest}>\\n                <YSelectDisplay\\n                    {...yDisplay}\\n                    menuOpen={menuOpen}\\n                    toggleMenu={toggleMenu}\\n                    selected={selected}\\n                    options={options}\\n                    placeholder={placeholder}\\n                    searchable={searchable}\\n                    onChange={onSearchStringChange}\\n                    onKeyDown={onInputKeyDown}\\n                    searchString={searchString}\\n                    ref={inputRef}\\n                />\\n                {!noIndicators && <YSelectIndicator\\n                    {...yIndicators}\\n                    selected={selected}\\n                    clearable={clearable}\\n                    clearSelection={clearSelection}\\n                    toggleMenu={toggleMenu}\\n                />}\\n            </Stage>\\n            <YSelectMenu\\n                {...yMenu}\\n                menuOpen={menuOpen}\\n                menuOptions={menuOptions}\\n                options={options}\\n            />\\n        </Wrapper>);\\n\\n}\\nYMultiSelectComponent.displayName = 'YSelect';\\nexport const YMultiSelect = YMultiSelectComponent;\\n\\nexport default YMultiSelect;\"","import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/thomas.coladonato/yeet-components/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { Playground } from 'docz';\nimport UncontrolledYSelect from './src/YBasic/YSelect/UncontrolledYMultiSelect.js';\nimport SourceDisplay from './SourceDisplay';\nimport source from '!!raw-loader!./src/YBasic/YSelect/YMultiSelect.js';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <p>{`Quality: Investigation`}</p>\n    <h1 {...{\n      \"id\": \"ymultiselect\"\n    }}>{`YMultiSelect`}</h1>\n    <h2 {...{\n      \"id\": \"multi-select\"\n    }}>{`Multi Select`}</h2>\n    <p>{`i work with the keyboard too`}</p>\n    <Playground __position={0} __code={'<UncontrolledYSelect\\n  clearable={true || \\'default\\'}\\n  placeholder={\\'Select...\\' || \\'default\\'}\\n  searchable={true || \\'default\\'}\\n  noIndicators={false && \\'default\\'}\\n  options={Array(100) // array of {value, label}\\n    .fill()\\n    .map((_, i) => ({\\n      value: i,\\n      label: `${i % 2 == 0 ? \\'B\\' : \\'Z\\'}${(i * 7) % 3 == 0 ? \\'ee\\' : \\'oo\\'}${\\n        i % 3 == 0 ? \\'p\\' : i % 3 == 1 ? \\'m\\' : \\'k\\'\\n      }`,\\n    }))}\\n  onChange={\\n    value => alert(`Id ${value} selected!`)\\n    //() => {} // disable alert\\n  }\\n/>'} __scope={{\n      props,\n      DefaultLayout,\n      Playground,\n      UncontrolledYSelect,\n      SourceDisplay,\n      source\n    }} mdxType=\"Playground\">\n      <UncontrolledYSelect clearable={true || 'default'} placeholder={'Select...' || 'default'} searchable={true || 'default'} noIndicators={false && 'default'} options={Array(100) // array of {value, label}\n      .fill().map((_, i) => ({\n        value: i,\n        label: `${i % 2 == 0 ? 'B' : 'Z'}${i * 7 % 3 == 0 ? 'ee' : 'oo'}${i % 3 == 0 ? 'p' : i % 3 == 1 ? 'm' : 'k'}`\n      }))} onChange={value => alert(`Id ${value} selected!`) //() => {} // disable alert\n      } mdxType=\"UncontrolledYSelect\" />\n    </Playground>\n    <h1 {...{\n      \"id\": \"source\"\n    }}>{`Source`}</h1>\n    <SourceDisplay source={source} mdxType=\"SourceDisplay\" />\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","export const clearablePath = \"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z\";\nexport const dropdownPath = \"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\";","import React from 'react';\nimport { getGenericThemableSubcomponentBuilder } from '../../../util.js';\nimport { clearablePath } from './YSelectSVGs.js';\nimport '../YSelectComponents.css';\nimport '../../../Y.css';\n\nconst genSubcomponent = getGenericThemableSubcomponentBuilder('y select display', globalTheme => ((globalTheme.YBasic || {}).YSelect || {}));\n\nexport const MultiValueButtonStage = genSubcomponent('multi stage');\nexport const MultiValueButton = genSubcomponent('multi button');\nexport const MultiValueLabel = genSubcomponent('multi button label', {extraClassNames: ['padding']});\nexport const MultiValueRemove = genSubcomponent('multi button remove');\nexport const MultiValueRemoveSVG = genSubcomponent('multi button remove svg', {\n    Tag: 'svg',\n    propMutator: () => ({\n        height: '20px',\n        width: '20px',\n        viewBox: '0 0 20 20',\n        'aria-hidden': true,\n        focusable: false,\n        children: <path d={clearablePath}></path>\n    })\n});\n\nconst DisplayContainer = genSubcomponent('container', {extraClassNames: ['padding']});\nconst DisplayPlaceholder = genSubcomponent('placeholder');\nconst DisplaySingleValue = genSubcomponent('single value');\n\nconst DisplayInputWrapper = genSubcomponent('input wrapper', {extraClassNames: ['padding']});\nconst DisplayInputStage = genSubcomponent('input stage');\nconst DisplayInput = genSubcomponent('input', {Tag: 'input', forwardRef: true});\n\nconst YSelectDisplayComponent = ({\n    yPlaceholder={},\n    ySingleValue={},\n    yInputWrapper={},\n    yInputStage={},\n    yInput={},\n    yChild={},\n\n    menuOpen,\n    toggleMenu,\n    selected,\n    options,\n    placeholder,\n    searchable,\n    tabindex = \"0\",\n    searchString,\n    forwardedRef,\n    onChange,\n    onKeyDown,\n    ...rest\n}) => {\n    const isMulti = Array.isArray(selected);\n    return (<DisplayContainer\n        onClick={toggleMenu}\n        {...rest}\n    >\n        {isMulti && <MultiValueButtonStage>{\n            (selected || []).map(value => {\n                const option = options.filter(o => o.value === value)[0];\n                return (\n                    <MultiValueButton key={`v${value}`}>\n                        <MultiValueLabel>\n                            {option.label}\n                        </MultiValueLabel>\n                        <MultiValueRemove> {/* TODO */}\n                            <MultiValueRemoveSVG/>\n                        </MultiValueRemove>\n                    </MultiValueButton>\n                );\n            })}\n        </MultiValueButtonStage>}\n        \n        {!(searchable && menuOpen) &&\n            ((selected === null || (Array.isArray(selected) && selected.length === 0)\n            ? <DisplayPlaceholder\n                {...Object.assign({}, yChild, yPlaceholder)}\n            >\n                {placeholder}\n            </DisplayPlaceholder>\n            :  <DisplaySingleValue\n                    {...Object.assign({}, yChild, ySingleValue)}\n                >\n                    {(options.filter(o => o.value === selected)[0] || {}).label}\n                </DisplaySingleValue>\n                )\n        )}\n        <DisplayInputWrapper\n            {...yInputWrapper}\n        > \n            <DisplayInputStage\n                {...yInputStage}\n            >\n                <DisplayInput\n                    {...yInput}\n                    autoCapitalize='none'\n                    autoComplete='off'\n                    autoCorrect='off'\n                    spellCheck='false'\n                    tabIndex={tabindex}\n                    type='text'\n                    aria-autocomplete='list'\n                    value={searchString}\n                    ref={forwardedRef}\n                    onChange={onChange}\n                    onKeyDown={onKeyDown}\n                    onFocus={() => {\n                        if(!menuOpen) {\n                            toggleMenu();\n                        }\n                    }} \n                    onClick={(e) => {e.stopPropagation(); return false;}}\n                    style={{opacity: (searchable && menuOpen) ? '1' : '0'}}\n                ></DisplayInput>\n            </DisplayInputStage>\n        </DisplayInputWrapper>\n    </DisplayContainer>);\n}\n\nYSelectDisplayComponent.displayName = 'YSelectDisplayContainer';\nexport const YSelectDisplay = React.forwardRef((props, ref) => {\n    return <YSelectDisplayComponent {...props} forwardedRef={ref} />;\n});\n\nexport default YSelectDisplay;","import React from 'react';\nimport { getGenericThemableSubcomponentBuilder } from '../../../util.js';\nimport { clearablePath, dropdownPath } from './YSelectSVGs.js';\nimport '../YSelectComponents.css';\nimport '../../../Y.css';\n\nconst genSubcomponent = getGenericThemableSubcomponentBuilder('y select indicator', globalTheme => ((globalTheme.YBasic || {}).YSelect || {}));\n\nconst IndicatorContainer = genSubcomponent('container');\nconst IndicatorSeparator = genSubcomponent('separator');\nconst IndicatorClearable = genSubcomponent('clearable', {Tag: 'button', extraClassNames: ['padding']});\nconst IndicatorClearableSVG = genSubcomponent('clearable svg', {\n    Tag: 'svg',\n    propMutator: () => ({\n        height: '20px',\n        width: '20px',\n        viewBox: '0 0 20 20',\n        'aria-hidden': true,\n        focusable: false,\n        children: <path d={clearablePath}></path>\n    })\n});\nconst IndicatorDropdown = genSubcomponent('dropdown', {Tag: 'button', extraClassNames: ['padding']});\nconst IndicatorDropdownSVG = genSubcomponent('dropdown svg', {\n    Tag: 'svg',\n    propMutator: () => ({\n        height: '20px',\n        width: '20px',\n        viewBox: '0 0 20 20',\n        'aria-hidden': true,\n        focusable: false,\n        children: <path d={dropdownPath}></path>\n    })\n});\n\nexport const YSelectIndicator = ({\n    yClearable={},\n    yClearableSVG={},\n    ySeparator={},\n    yDropdown={},\n    yDropdownSVG={},\n\n    selected,\n    clearable,\n    clearSelection,\n    toggleMenu,\n    ...rest\n}) => (<IndicatorContainer {...rest}>\n    {clearable && (selected !== null) && <IndicatorClearable\n        {...yClearable}\n        onClick={clearSelection}\n        aria-label='clear selection'\n    >\n        <IndicatorClearableSVG {...yClearableSVG}/>\n    </IndicatorClearable>\n    }\n    <IndicatorSeparator {...ySeparator}/>\n    <IndicatorDropdown {...yDropdown} onClick={toggleMenu} aria-label='open menu'>\n        <IndicatorDropdownSVG {...yDropdownSVG}/>\n    </IndicatorDropdown>\n</IndicatorContainer>);\n\nexport default YSelectIndicator;"],"sourceRoot":""}